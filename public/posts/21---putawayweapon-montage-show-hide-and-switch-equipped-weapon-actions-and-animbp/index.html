<!DOCTYPE html>
<html lang="en-gb"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP | Desert Defender devlog</title>
<meta property="og:title" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP | Desert Defender devlog" />
<meta name="twitter:title" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP | Desert Defender devlog" />
<meta itemprop="name" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP | Desert Defender devlog" />
<meta name="application-name" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP | Desert Defender devlog" />
<meta property="og:site_name" content="Desert Defender devlog" />

<meta name="description" content="blog theme with light and dark mode support">
<meta itemprop="description" content="blog theme with light and dark mode support" />
<meta property="og:description" content="blog theme with light and dark mode support" />
<meta name="twitter:description" content="blog theme with light and dark mode support" />

<meta property="og:locale" content="en-gb" />
<meta name="language" content="en-gb" />

  <link rel="alternate" hreflang="en-gb" href="https://blog.desert-defender.com/posts/21---putawayweapon-montage-show-hide-and-switch-equipped-weapon-actions-and-animbp/" title="English" />





    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2025-03-02T00:00:00Z />
    <meta property="article:published_time" content=2025-03-02T00:00:00Z />
    <meta property="og:url" content="https://blog.desert-defender.com/posts/21---putawayweapon-montage-show-hide-and-switch-equipped-weapon-actions-and-animbp/" />

    
    <meta property="og:article:author" content="Prokrastination Studio" />
    <meta property="article:author" content="Prokrastination Studio" />
    <meta name="author" content="Prokrastination Studio" />
    
    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2025-03-02",
        "description": "",
        "wordCount":  346 ,
        "mainEntityOfPage": "True",
        "dateModified": "2025-03-02",
        "image": {
        "@type": "imageObject",
        "url": ""
        },
        "publisher": {
        "@type": "Organization",
        "name": "Desert Defender devlog"
        }
    }
    </script>


<meta name="generator" content="Hugo 0.144.0">

    
    <meta property="og:url" content="https://blog.desert-defender.com/posts/21---putawayweapon-montage-show-hide-and-switch-equipped-weapon-actions-and-animbp/">
  <meta property="og:site_name" content="Desert Defender devlog">
  <meta property="og:title" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP">
  <meta property="og:description" content="I have already implemented the ability for the coyote to pick up a weapon. When he does, he can no longer walk on all fours, and his MaxWalk speed is reduced. This makes it harder to escape from the snakes chasing the player, and it leaves only a short window to benefit from the increased speed before picking up a weapon.
To offer better gameplay, I have had the idea from the very beginning to allow the player to holster or put away the weapon and return to an Unequipped state. The player would then be able to take the weapon from coyote back to shoot again, or switch weapons if a secondary weapon is equipped. As in a game like Apex Legends, I wanted to separate the controls for these actions: one key to show or hide the weapon, and the mouse wheel to switch between weapons.">
  <meta property="og:locale" content="en_gb">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-03-02T00:00:00+00:00">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP">
  <meta name="twitter:description" content="I have already implemented the ability for the coyote to pick up a weapon. When he does, he can no longer walk on all fours, and his MaxWalk speed is reduced. This makes it harder to escape from the snakes chasing the player, and it leaves only a short window to benefit from the increased speed before picking up a weapon.
To offer better gameplay, I have had the idea from the very beginning to allow the player to holster or put away the weapon and return to an Unequipped state. The player would then be able to take the weapon from coyote back to shoot again, or switch weapons if a secondary weapon is equipped. As in a game like Apex Legends, I wanted to separate the controls for these actions: one key to show or hide the weapon, and the mouse wheel to switch between weapons.">


    

    <link rel="canonical" href="https://blog.desert-defender.com/posts/21---putawayweapon-montage-show-hide-and-switch-equipped-weapon-actions-and-animbp/">
    <link href="/style.min.2d921c18cf1ec555ffc03d59a8adc211c402c68c930c27d6a0c306ab175a8d09.css" rel="stylesheet">
    <link href="/code-highlight.min.499ef0fcc72e5b2b19df05834a7b00e42abe30017d613498ca204697a2228d00.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://blog.desert-defender.com/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    
    
</head>
<body data-theme = "auto" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://blog.desert-defender.com/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/posts/">
                        Posts
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">21 - PutAwayWeapon montage, show, hide and switch equipped weapon actions and AnimBP</h1>
                
                
                
                <div class="post-meta">
                    <time datetime="2025-03-02T00:00:00&#43;00:00" itemprop="datePublished"> 2 Mar 2025 </time>
                </div>
                
            </header>
            
            <div class="page-content">
                <p>I have already implemented the ability for the coyote to pick up a weapon. When he does, he can no longer walk on all fours, and his MaxWalk speed is reduced. This makes it harder to escape from the snakes chasing the player, and it leaves only a short window to benefit from the increased speed before picking up a weapon.</p>
<p>To offer better gameplay, I have had the idea from the very beginning to allow the player to holster or put away the weapon and return to an Unequipped state. The player would then be able to take the weapon from coyote back to shoot again, or switch weapons if a secondary weapon is equipped. As in a game like Apex Legends, I wanted to separate the controls for these actions: one key to show or hide the weapon, and the mouse wheel to switch between weapons.</p>
<p style="text-align:center;"><img src="/images/Pasted%20image%2020250305213456.png" alt="Image Description"></p>
<p style="text-align:center; font-style:italic;">Apex Legends bindings with two actions to holster weapons or cycle through equipped weapons</p>
<p>To do so, I started by creating an animation in Blender, importing it into Unreal and making a PutAwayWeapon montage.</p>
<p style="text-align:center;"><img src="/images/PutAwayWeapon%201.gif" alt="Image Description"></p>
<p style="text-align:center; font-style:italic;">My PutAwayWeapon animation in Blender</p>
<p>Then, I added the actions and functions to the Character and make them call the CombatComponent to do the following:</p>
<ul>
<li>Set aiming to false (simple precaution)</li>
<li>Make the character play the PutAwayMontage</li>
<li>Make the character equipped or uneqquiped</li>
<li>Set the right MaxWalkSpeed</li>
<li>Adjust Controller and OrientRotationToMovement</li>
</ul>
<p style="text-align:center;"><img src="/images/2025-03-05_20h39_59.png" alt="Image Description"></p>
<p style="text-align:center;"><img src="/images/2025-03-05_20h40_29.png" alt="Image Description"></p>
<p style="text-align:center; font-style:italic;">The actions and functions to handle the mecanic</p>
<p>After, and this took me two days, I modified the Animation Blueprint with the right state machines, cached poses, slots and so on. The final touch was to use an Animation Notify and a blueprint callable function to set the weapon mesh visibility to true or false in the middle of the animation and based on the triggered action.</p>
<p style="text-align:center;"><img src="/images/Pasted%20image%2020250305213948.png" alt="Image Description"></p>
<p style="text-align:center; font-style:italic;">The AnimBP EventGraph</p>
<p>Finally, here is the result: a coyote able to pickup a weapon, holster it and take it back to shoot again. The next step will be to add a secondary weapon and the possibility to switch weapons.</p>
<p style="text-align:center;"><img src="/images/ShowHide%201.gif" alt="Image Description"></p>
<p style="text-align:center; font-style:italic;">Equip, shoot, holster, run, shoot again</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://youtube.com" target="_blank" rel="noopener noreferrer me"
    title="Youtube">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
    </path>
    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
</svg>
</a>
<a href="" target="_blank" rel="noopener noreferrer me"
    title="">
    
</a>
</div>
    <small class="footer_copyright">
        Â© 2025 Prokrastination Studio.
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script src="https://blog.desert-defender.com/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js" integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30&#43;lSNuSkl4QXuNyy8="></script>

    

</body>
</html>
